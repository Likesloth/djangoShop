{% extends 'myapp/layout/base.html' %}

{% block content %}
<div class="max-w-7xl mx-auto px-4 py-6">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-2xl font-semibold text-white">Overdue Loans</h2>
    <a class="inline-flex items-center justify-center px-3 py-2 rounded-md border border-indigo-300/35 text-slate-200 hover:bg-indigo-800/20" href="{% url 'report-overdues-csv' %}">Export CSV</a>
  </div>
  <div class="rounded-2xl border border-indigo-300/25 bg-indigo-900/20 backdrop-blur-md overflow-hidden">
    <table class="min-w-full text-slate-200">
      <thead class="bg-white/5">
        <tr>
          <th class="px-3 py-2 text-left text-sm font-semibold">Title</th>
          <th class="px-3 py-2 text-left text-sm font-semibold">Barcode</th>
          <th class="px-3 py-2 text-left text-sm font-semibold">Borrower</th>
          <th class="px-3 py-2 text-left text-sm font-semibold">Due At</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-white/10">
        {% for loan in loans %}
          <tr>
            <td class="px-3 py-2">{{ loan.copy.book.title }}</td>
            <td class="px-3 py-2">{{ loan.copy.barcode }}</td>
            <td class="px-3 py-2">{{ loan.borrower.username }}</td>
            <td class="px-3 py-2">{{ loan.due_at|date:'Y-m-d H:i' }}</td>
          </tr>
        {% empty %}
          <tr><td colspan="4" class="px-3 py-3 text-slate-400">No overdue loans.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock content %}

