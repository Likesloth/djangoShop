{% extends 'myapp/layout/base.html' %}

{% block myheader %}
  <div class="hero-section hero-compact">
    <h1 class="display-6 fw-bold text-white mb-0">Your Profile</h1>
  </div>
{% endblock myheader %}

{% block content %}
<div class="container my-4">
  <!-- Personal Information -->
  <div class="row g-0 align-items-start mb-5">
    <div class="col-12 col-lg-4 pe-lg-4 mb-3 mb-lg-0">
      <div class="panel-title">Personal Information</div>
      <div class="panel-subtitle">Use a permanent address where you can receive mail.</div>
    </div>
    <div class="col-12 col-lg-8">
      <form method="post" class="rounded-2xl border border-indigo-300/25 bg-indigo-900/20 backdrop-blur-md p-4">
        {% csrf_token %}
        <input type="hidden" name="action" value="profile" />
        <div class="d-flex align-items-center gap-3 mb-4">
          <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?auto=format&fit=facearea&facepad=2&w=128&h=128&q=80" alt="avatar" class="rounded-3" style="width:80px;height:80px;object-fit:cover;" />
          <div>
            <label class="px-3 py-2 rounded-md border border-indigo-300/35 text-slate-200 bg-transparent hover:bg-indigo-800/20 mb-1" for="avatarInput">Change avatar</label>
            <input id="avatarInput" type="file" class="d-none" disabled>
            <div class="text-slate-400 small">JPG, GIF or PNG. 1MB max. (coming soon)</div>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">First name</label>
            <input name="first_name" class="form-control" value="{{ request.user.first_name }}" />
          </div>
          <div class="col-md-6">
            <label class="form-label">Last name</label>
            <input name="last_name" class="form-control" value="{{ request.user.last_name }}" />
          </div>

          <div class="col-12">
            <label class="form-label">Email address</label>
            <input type="email" name="email" class="form-control" value="{{ request.user.email }}" />
          </div>

          <div class="col-12">
            <label class="form-label">Username</label>
            <input name="username" class="form-control" value="{{ request.user.username }}" placeholder="example.com/janesmith" />
          </div>

          
        </div>

        <div class="d-flex gap-2 mt-4">
          <button type="submit" class="inline-flex items-center justify-center px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-500 text-white shadow">Save</button>
          <a href="{% url 'logout' %}" class="px-3 py-2 rounded-md border border-indigo-300/35 text-slate-200 bg-transparent hover:bg-indigo-800/20">Sign out</a>
        </div>
      </form>
    </div>
  </div>

  <!-- Change password -->
  <div class="row g-0 align-items-start">
    <div class="col-12 col-lg-4 pe-lg-4 mb-3 mb-lg-0">
      <div class="panel-title">Change password</div>
      <div class="panel-subtitle">Update your password associated with your account.</div>
    </div>
    <div class="col-12 col-lg-8">
      <form method="post" class="rounded-2xl border border-indigo-300/25 bg-indigo-900/20 backdrop-blur-md p-4">
        {% csrf_token %}
        <input type="hidden" name="action" value="password" />
        <div class="mb-3">
          <label class="form-label">Current password</label>
          <input type="password" name="current_password" class="form-control" />
        </div>
        <div class="mb-3">
          <label class="form-label">New password</label>
          <input type="password" name="new_password" class="form-control" />
        </div>
        <div class="mb-3">
          <label class="form-label">Confirm password</label>
          <input type="password" name="confirm_password" class="form-control" />
        </div>
        <button type="submit" class="inline-flex items-center justify-center px-3 py-2 rounded-md bg-indigo-600 hover:bg-indigo-500 text-white shadow">Save</button>
      </form>
    </div>
  </div>
</div>
{% endblock %}
